<main class="container">
  <div class="passenger-baggage-card">
    <h1 class="page-title">Conferma prenotazione multipla</h1>
    <p *ngIf="!flightIds.length">Nessun volo selezionato.</p>
    <div *ngIf="flightIds.length">
      <div *ngIf="flights.length">
        <div *ngFor="let f of flights" class="flight-summary">
          <div class="summary-item"><span class="summary-label">Compagnia:</span><span class="summary-value">{{ f.airline?.name }}</span></div>
          <div class="summary-item"><span class="summary-label">Rotta:</span><span class="summary-value">{{ f.from_airport?.name }} â†’ {{ f.to_airport?.name }}</span></div>
          <div class="summary-item"><span class="summary-label">Data:</span><span class="summary-value">{{ f.date_departure | date:'mediumDate' }}</span></div>
        </div>
      </div>

      <div class="divider"></div>

      <form (submit)="$event.preventDefault(); confirmMulti()">
        <div *ngFor="let p of passengerInputs; let i = index" class="passenger-section">
          <h3 class="passenger-section-title">Passeggero {{ i + 1 }}</h3>
          <div class="form-row">
            <div class="form-group"><label>Nome</label><input [(ngModel)]="passengerInputs[i].nome" name="nome{{i}}"></div>
            <div class="form-group"><label>Cognome</label><input [(ngModel)]="passengerInputs[i].cognome" name="cognome{{i}}"></div>
          </div>
        </div>

        <div style="display:flex;gap:12px;margin-top:12px">
          <button class="btn btn-primary" type="submit" [disabled]="loading">{{ loading ? 'Attendere...' : 'Conferma & Paga' }}</button>
          <a class="btn btn-outline" routerLink="/search">Annulla</a>
        </div>
      </form>
    </div>
  </div>
</main>
