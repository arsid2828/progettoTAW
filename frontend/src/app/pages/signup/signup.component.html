<!--
signup.html — Pagina di registrazione utenti.
Permette di creare un nuovo account inserendo dati personali
e credenziali, con validazione JavaScript per la password.
-->
<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SkyJourney - Registrazione</title>
  
  <script>
    // Controllo che le due password coincidano
    function validaPassword() {
      const password = document.getElementById("password").value;
      const password2 = document.getElementById("password2").value;
      const errorePwd = document.getElementById("errorePwd");
      
      if (password === password2) {
        errorePwd.style.display = "none";
        document.getElementById("registrazione").submit();
        return true;
      } else {
        errorePwd.style.display = "block";
        return false;
      }
    }
  </script>
</head>
<body>

  <!-- ===== HEADER ===== -->
  <header class="main-header">
    <div class="header-content">
      <div class="header-section"></div>
      <div class="header-logo"><span class="logo-text">SkyJourney</span></div>
      <div class="header-section"></div>
    </div>
  </header>

  <!-- ===== MAIN ===== -->
  <main class="container">
    <div class="signup-card">
      <h1 class="signup-title">Crea il tuo account</h1>
      
      <!-- Form registrazione -->
      <form id="registrazione"
            method="post"
            class="signup-form"
            onsubmit="return validaPassword()">

        <!-- Nome e cognome -->
        <div class="form-row">
          <div class="form-group">
            <label for="nome">Nome</label>
            <input id="nome" name="nome" type="text" placeholder="Mario" required>
          </div>
          <div class="form-group">
            <label for="cognome">Cognome</label>
            <input id="cognome" name="cognome" type="text" placeholder="Rossi" required>
          </div>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email">Email</label>
          <input id="email" name="email" type="email" placeholder="mario.rossi@email.com" required>
        </div>

        <!-- Telefono e data di nascita -->
        <div class="form-row">
          <div class="form-group">
            <label for="telefono">Telefono</label>
            <input id="telefono" name="telefono" type="text" placeholder="3331234567">
          </div>
          <div class="form-group">
            <label for="data_nascita">Data di nascita</label>
            <input id="data_nascita" name="data_nascita" type="date" [max]="today" required>
          </div>
        </div>

        <!-- Indirizzo -->
        <div class="form-group">
          <label for="indirizzo">Indirizzo</label>
          <input id="indirizzo" name="indirizzo" type="text" placeholder="Via Roma 1, Milano">
        </div>

        <!-- Nazionalità e città di nascita -->
        <div class="form-row">
          <div class="form-group">
            <label for="nazionalita">Nazionalità</label>
            <input id="nazionalita" name="nazionalita" type="text" placeholder="Italiana">
          </div>
          <div class="form-group">
            <label for="citta_nascita">Città di nascita</label>
            <input id="citta_nascita" name="citta_nascita" type="text" placeholder="Milano" required>
          </div>
        </div>

        <!-- Sesso -->
        <div class="form-group">
          <label>Sesso</label>
          <div class="radio-group">
            <input type="radio" id="maschio" name="sesso" value="0" checked>
            <label for="maschio">Maschio</label>
            <input type="radio" id="femmina" name="sesso" value="1">
            <label for="femmina">Femmina</label>
          </div>
        </div>

        <div class="form-separator"></div>

        <!-- Messaggio di errore password -->
        <div id="errorePwd" class="error-message">
          Le password non coincidono!
        </div>

        <!-- Password e conferma -->
        <div class="form-row">
          <div class="form-group">
            <label for="password">Password</label>
            <input id="password" name="password" type="password" placeholder="Password sicura" required>
          </div>
          <div class="form-group">
            <label for="password2">Conferma Password</label>
            <input id="password2" name="password2" type="password" placeholder="Conferma Password" required>
          </div>
        </div>

        <!-- Bottone Registrati -->
        <button type="submit" class="btn btn-submit">Registrati</button>
      </form>
      
      <!-- Link login -->
      <div class="signup-footer">
        <span>Hai già un account?</span>
        <a class="btn btn-outline" [routerLink]="['/login']">Accedi</a>
      </div>
      
      <!-- Messaggi flash -->
      <!-- TODO: manual template logic here -->
        <ng-container *ngIf="messages">
          <ul class="flash-messages">
            <ng-container *ngFor="let msg of messages; let i = index">
              <li class="flash-message">{{ msg }}</li>
            </ng-container>
          </ul>
        </ng-container>
      <!-- TODO: manual template logic here -->
    </div>
  </main>
</body>
</html>
