<!--
signup.html — Pagina di registrazione utenti.
Permette di creare un nuovo account inserendo dati personali
e credenziali, con validazione JavaScript per la password.
-->


  <!-- ===== MAIN ===== -->
  <main class="container">
    <div class="signup-card">
      <h1 class="signup-title">Crea il tuo account</h1>
      
      <!-- Form registrazione -->
      <!--<form id="registrazione"
            method="post"
            class="signup-form"
            onsubmit="return validaPassword()">-->

        <!-- Nome e cognome -->
        <div class="form-row">
          <div class="form-group">
            <label for="nome">Nome</label>
            <input id="nome" name="nome" type="text" placeholder="Mario" required [(ngModel)]="nome">
          </div>
          <div class="form-group">
            <label for="cognome">Cognome</label>
            <input id="cognome" name="cognome" type="text" placeholder="Rossi" required [(ngModel)]="cognome" >
          </div>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email">Email</label>
          <input id="email" name="email" type="email" placeholder="mario.rossi@email.com" required [(ngModel)]="email">
        </div>

        <!-- Telefono e data di nascita -->
        <div class="form-row">
          <div class="form-group">
            <label for="telefono">Telefono</label>
            <input id="telefono" name="telefono" type="text" placeholder="3331234567" [(ngModel)]="telefono">
          </div>
          <div class="form-group">
            <label for="data_nascita">Data di nascita</label>
            <input id="data_nascita" name="data_nascita" type="date" [max]="today" required [(ngModel)]="data_nascita">{{data_nascita}}
          </div>
        </div>

        <!-- Indirizzo -->
        <div class="form-group">
          <label for="indirizzo">Indirizzo</label>
          <input id="indirizzo" name="indirizzo" type="text" placeholder="Via Roma 1, Milano" [(ngModel)]="indirizzo">
        </div>

        <!-- Nazionalità e città di nascita -->
        <div class="form-row">
          <div class="form-group">
            <label for="nazionalita">Nazionalità</label>
            <input id="nazionalita" name="nazionalita" type="text" placeholder="Italiana" [(ngModel)]="nazionalita">
          </div>
          <div class="form-group">
            <label for="citta_nascita">Città di nascita</label>
            <input id="citta_nascita" name="citta_nascita" type="text" placeholder="Milano" required [(ngModel)]="citta_nascita">
          </div>
        </div>

        <!-- Sesso -->
        <div class="form-group">
          <label>Sesso</label>
          <div class="radio-group">
            <input type="radio" id="maschio" name="sesso" value="0" checked [(ngModel)]="maschio">
            <label for="maschio">Maschio</label>
            <input type="radio" id="femmina" name="sesso" value="1" [(ngModel)]="femmina">
            <label for="femmina">Femmina</label>
          </div>
        </div>

        <div class="form-separator"></div>

        <!-- Messaggio di errore password -->
        <div id="errorePwd" class="error-message" *ngIf="!areValidPasswords()">
          Le password non coincidono!
        </div>

        <!-- Password e conferma -->
        <div class="form-row">
          <div class="form-group">
            <label for="password">Password</label>
            <input id="password" name="password" type="password" placeholder="Password sicura" [(ngModel)]="password" required>
          </div>
          <div class="form-group">
            <label for="password2">Conferma Password</label>
            <input id="password2" name="password2" type="password" placeholder="Conferma Password" [(ngModel)]="password2" required > 
          </div>
        </div>
        {{areValidPasswords()}}
        <!-- Bottone Registrati -->
        <button  class="btn btn-submit" (click)="onSubmit()">Registrati</button>
      <!--</form>-->
      
      <!-- Link login -->
      <div class="signup-footer">
        <span>Hai già un account?</span>
        <a class="btn btn-outline" [routerLink]="['/login']">Accedi</a>
      </div>
      
      <!-- Messaggi flash -->
      <!-- TODO: manual template logic here -->
        <ng-container *ngIf="messages">
          <ul class="flash-messages">
            <ng-container *ngFor="let msg of messages; let i = index">
              <li class="flash-message">{{ msg }}</li>
            </ng-container>
          </ul>
        </ng-container>
      <!-- TODO: manual template logic here -->
    </div>
  </main>

